var main = function(game) {
		// initialization vars
		var pointer;
		var space;
		var keys;
		var board;
		var startScreen;
		var sounds;
	
		// selection variables
		var selectArrayX;
		var arrayX;
		var camXL;
		var camXR;
		var selectArrayY;
		var arrayY;     
		var camYU;
		var camYD;
		var numPlayers;
		
		// player variables
		var player;
		var p1;
		var p2;
		var p3;
		var p4;
};

main.prototype = {
		create: function() {
				// set world and bounds
				this.world.setBounds(0, 0, 1600, 1114);
				board = this.add.tileSprite(0, 0, 1600, 1114, 'board');
				// start screen
				startScreen = this.add.sprite(0, 0, 'startScreen');
				// initialize pointer
				pointer = this.add.sprite(this.camera.x + 90, this.camera.y + 295, 'pointer');
				pointer.animations.add('blink', [0, 1], 3, true);
				pointer.animations.play('blink');
				// pointer selection array
				arrayX = 180;
				camXL = this.camera.x + 90;
				selectArrayX = [camXL, camXL + arrayX, camXL + 2*arrayX, camXL + 3*arrayX];
				camXR = camXL + 3*arrayX;
				// audio
				sounds = []; // dummy variable
				sounds.beep = this.add.audio('beep', 0.5);
				sounds.select = this.add.audio('selectSFX', 0.5);
				// set keyboard controls
				space = this.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR);
				space.onDown.add(this.selectNumPlayers, this);
				keys = this.input.keyboard.createCursorKeys();
				keys.left.onDown.add(this.pointerLeft, this);
				keys.right.onDown.add(this.pointerRight, this);
				
	// testing 			
	/*			player = pointer;
				this.camera.follow(player);
				player.visible = true;
				pointer.x = this.camera.x;
				pointer.y = this.camera.y; 
				keys.left.reset(true); */
		},
		resetKeys: function() { // resets all the key bindings
				space.reset(true);
				keys.left.reset(true);
				keys.right.reset(true);
				keys.up.reset(true);
				keys.down.reset(true);
		},
		// start screen cursor functions
		selectNumPlayers: function() {
				sounds.select.play();
				this.resetKeys();
				startScreen.visible = false;
				if(pointer.x === selectArrayX[0]) {
						numPlayers = 1;
				} else if(pointer.x === selectArrayX[1]) {
						numPlayers = 2;
				} else if(pointer.x === selectArrayX[1]) {
						numPlayers = 3;
				} else {
						numPlayers = 4; 
				}
		},
		pointerRight: function() {
				sounds.beep.play();
				if(pointer.x < camXR)
						pointer.x += arrayX;
				else
						pointer.x = camXL;
		},
		pointerLeft: function() {
				sounds.beep.play();
				if(pointer.x > camXL)
						pointer.x -= arrayX;
				else
						pointer.x = camXR;
		}
}
